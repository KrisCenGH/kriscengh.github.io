import{_ as f,r as i,u as m,c as o,a as t,w as k,v as g,C as x,F as y,s as w,t as d,d as C,h as B,o as a,p as L,f as R,i as b}from"./index-C3I0j99N.js";const F={class:"add-friend"},S={class:"search-container"},A={key:0},I=["src"],D={class:"name"},K=["textContent"],T="https://142.171.30.197:10086",U={__name:"AddFriend",setup(V){const u=C(),n=i(""),r=i([]),l=i("暂无搜索结果"),v=m();function p(){u.back()}async function _(){if(n.value==="")return;l.value="搜索中...";const{users:c}=await b.post("/user/search",{query:n.value});r.value=c.filter(e=>e.id!==v.userInfo.user.id),l.value="暂无搜索结果"}return(c,e)=>{const h=B("RouterLink");return a(),o("div",F,[t("div",{class:"top-bar"},[t("div",{class:"back-triangle",onClick:p}),e[1]||(e[1]=t("div",{class:"title"},"添加朋友",-1)),e[2]||(e[2]=t("div",{class:"right-placeholder-div"},null,-1))]),e[3]||(e[3]=t("div",{class:"top-placeholder-div"},null,-1)),t("div",S,[k(t("input",{type:"text",class:"search",placeholder:"搜索 账号/手机号","onUpdate:modelValue":e[0]||(e[0]=s=>n.value=s),onKeydown:x(_,["enter"])},null,544),[[g,n.value]])]),r.value.length>0?(a(),o("div",A,[(a(!0),o(y,null,w(r.value,s=>(a(),L(h,{class:"people",key:s.id,to:{name:"friendProfile",params:{targetId:s.id}}},{default:R(()=>[t("img",{src:T+s.avatar_url,class:"avatar"},null,8,I),t("div",D,d(s.username),1)]),_:2},1032,["to"]))),128))])):(a(),o("div",{key:1,class:"not-result",textContent:d(l.value)},null,8,K))])}}},E=f(U,[["__scopeId","data-v-96f5af9b"]]);export{E as default};
