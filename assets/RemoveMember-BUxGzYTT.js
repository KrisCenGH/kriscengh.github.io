import{_ as g,r as u,j as h,i as v,q as b,c as n,a as s,t as r,F as k,s as f,d as w,o as c,m as x,A as C}from"./index-C3I0j99N.js";const I={class:"delete-member"},R={class:"top-bar"},y={class:"title"},B=["disabled"],M=["onClick"],L={key:0,class:"member"},F=["src"],N={class:"name"},S="https://142.171.30.197:10086",U={__name:"RemoveMember",setup(V){const i=b(),d=w(),l=u([]);h(async()=>{const{members:t}=await v.post("/groups/members",{groupId:i.params.targetId});l.value=t});const e=u([]);function _(t){const a=e.value.indexOf(t);a===-1?e.value.push(t):e.value.splice(a,1)}async function m(){if(window.confirm("确定删除？"))try{const{success:t}=await v.post("/groups/remove-members",{groupId:i.params.targetId,userIds:e.value});window.alert("删除成功！"),d.back()}catch{window.alert("移除失败！")}}function p(){d.back()}return(t,a)=>(c(),n("div",I,[s("div",R,[s("div",{class:"back-triangle",onClick:p}),s("div",y,"聊天成员"+r("("+l.value.length+")"),1),s("button",{class:"delete-button",disabled:e.value.length<1,onClick:m}," 删除"+r(e.value.length?"("+e.value.length+")":""),9,B)]),a[0]||(a[0]=s("div",{class:"top-placeholder-div"},null,-1)),(c(!0),n(k,null,f(l.value,o=>(c(),n("div",{onClick:j=>_(o.id)},[o.role===0?(c(),n("div",L,[s("div",{class:C(["checkbox",{checked:e.value.includes(o.id)}])},null,2),s("img",{src:S+o.avatar_url,class:"avatar"},null,8,F),s("div",N,r(o.username),1)])):x("",!0)],8,M))),256))]))}},z=g(U,[["__scopeId","data-v-b58e8259"]]);export{z as default};
