import{_ as h,r as c,u as k,z as b,j as z,i as n,q as I,c as i,a,t as v,e as Z,p as V,m as y,F as x,s as B,f as u,x as H,h as R,d as G,o}from"./index-BN88ZBUW.js";const N="data:image/svg+xml,%3csvg%20width='41'%20height='41'%20viewBox='0%200%2041%2041'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M40.0499%2021.9906L39.0546%2021.8937C39.1143%2021.2806%2039.1449%2020.6588%2039.1449%2020.0295C39.1449%2019.4002%2039.1143%2018.7783%2039.0546%2018.1652L40.0499%2018.0684C40.1127%2018.7136%2040.1449%2019.3678%2040.1449%2020.0295C40.1449%2020.6912%2040.1127%2021.3454%2040.0499%2021.9906ZM39.2886%2014.2218L38.3316%2014.5118C37.9677%2013.3107%2037.488%2012.1598%2036.9053%2011.072L37.7868%2010.5999C38.4002%2011.7451%2038.9054%2012.957%2039.2886%2014.2218ZM35.6057%207.34142L34.833%207.97624C34.0428%207.01444%2033.1599%206.13157%2032.1981%205.34133L32.8329%204.56868C33.8451%205.40026%2034.7741%206.32929%2035.6057%207.34142ZM29.5745%202.3875L29.1023%203.26902C28.0145%202.68638%2026.8636%202.20667%2025.6626%201.84278L25.9525%200.885744C27.2174%201.26896%2028.4293%201.77411%2029.5745%202.3875ZM22.106%200.124406L22.0091%201.1197C21.396%201.06004%2020.7742%201.02948%2020.1449%201.02948C19.5156%201.02948%2018.8937%201.06004%2018.2806%201.1197L18.1838%200.124407C18.829%200.061614%2019.4832%200.02948%2020.1449%200.02948C20.8066%200.02948%2021.4608%200.0616139%2022.106%200.124406ZM14.3372%200.885745L14.6272%201.84278C13.4261%202.20668%2012.2752%202.68638%2011.1874%203.26902L10.7153%202.3875C11.8605%201.77411%2013.0723%201.26896%2014.3372%200.885745ZM7.4568%204.56868L8.09163%205.34133C7.12982%206.13157%206.24696%207.01444%205.45672%207.97625L4.68407%207.34142C5.51565%206.32929%206.44468%205.40026%207.4568%204.56868ZM2.50289%2010.5999L3.3844%2011.072C2.80177%2012.1598%202.32206%2013.3107%201.95817%2014.5118L1.00113%2014.2218C1.38435%2012.957%201.88949%2011.7451%202.50289%2010.5999ZM0.239793%2018.0684C0.177001%2018.7136%200.144867%2019.3678%200.144867%2020.0295C0.144867%2020.6912%200.177001%2021.3454%200.239793%2021.9906L1.23509%2021.8937C1.17543%2021.2806%201.14487%2020.6588%201.14487%2020.0295C1.14487%2019.4002%201.17543%2018.7783%201.23509%2018.1652L0.239793%2018.0684ZM1.00113%2025.8371L1.95817%2025.5472C2.32206%2026.7483%202.80177%2027.8992%203.3844%2028.9869L2.50289%2029.4591C1.88949%2028.3139%201.38435%2027.102%201.00113%2025.8371ZM4.68406%2032.7175L5.45672%2032.0827C6.24696%2033.0445%207.12983%2033.9274%208.09163%2034.7176L7.45681%2035.4903C6.44468%2034.6587%205.51565%2033.7297%204.68406%2032.7175ZM10.7153%2037.6715L11.1874%2036.7899C12.2752%2037.3726%2013.4261%2037.8523%2014.6272%2038.2162L14.3372%2039.1732C13.0723%2038.79%2011.8605%2038.2849%2010.7153%2037.6715ZM18.1838%2039.9346L18.2806%2038.9393C18.8937%2038.9989%2019.5156%2039.0295%2020.1449%2039.0295C20.7742%2039.0295%2021.396%2038.9989%2022.0091%2038.9393L22.106%2039.9346C21.4608%2039.9973%2020.8066%2040.0295%2020.1449%2040.0295C19.4832%2040.0295%2018.829%2039.9973%2018.1838%2039.9346ZM25.9525%2039.1732L25.6626%2038.2162C26.8636%2037.8523%2028.0145%2037.3726%2029.1023%2036.7899L29.5745%2037.6715C28.4293%2038.2849%2027.2174%2038.79%2025.9525%2039.1732ZM32.8329%2035.4903L32.1981%2034.7176C33.1599%2033.9274%2034.0428%2033.0445%2034.833%2032.0827L35.6057%2032.7175C34.7741%2033.7297%2033.8451%2034.6587%2032.8329%2035.4903ZM37.7868%2029.4591L36.9053%2028.9869C37.488%2027.8992%2037.9677%2026.7483%2038.3316%2025.5472L39.2886%2025.8371C38.9054%2027.102%2038.4002%2028.3139%2037.7868%2029.4591Z'%20fill='black'%20fill-opacity='0.3'%20style='fill:black;fill:black;fill-opacity:0.3;'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M19.3949%2020.7795V28.5295H20.8949V20.7795H28.6449V19.2795H20.8949V11.5295H19.3949V19.2795H11.6449V20.7795H19.3949Z'%20fill='black'%20fill-opacity='0.3'%20style='fill:black;fill:black;fill-opacity:0.3;'/%3e%3c/svg%3e",S="data:image/svg+xml,%3csvg%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3eavatar_dotline_minus_bg备份%3c/title%3e%3cdesc%3eCreated%20with%20Sketch.%3c/desc%3e%3cg%20id='avatar_dotline_minus_bg备份'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cpath%20d='M14.2551675%2049.0021383V50H8.90947969V49.0021383H14.2551675zm8.9094797.0V50H17.8189594V49.0021383h5.3456878zm17.8189594.0V50H35.6379187V49.0021383H40.9836066zm-8.909479699999999.0V50H26.7284391V49.0021383H32.0741269zM49.875332%2044.5473984%2049.8754203%2044.5780301C49.8754203%2047.512941%2047.4962048%2049.8921565%2044.5612939%2049.8921565v0H44.5473984V49.0053013C47.0008568%2048.9912806%2048.9844723%2047.0009887%2048.9844723%2044.5473984v0h.8908597zm-48.984384031.0C.890947969%2047.0009887%202.87456352%2048.9912806%205.32561423%2049.002094L5.32802185%2049.0053013V49.8921565H5.31412642C2.37921544%2049.8921565-44408921e-23%2047.512941-133226763e-23%2044.5780301L88283947e-12%2044.5473984H.890947969zM.997861725%2035.6379187V40.9836066H0V35.6379187H.997861725zM50%2035.6379187V40.9836066H49.0021383V35.6379187H50zM.997861725%2026.7284391V32.0741269H0V26.7284391H.997861725zM50%2026.7284391V32.0741269H49.0021383V26.7284391H50zM34.9251604%2024.2783321V25.6147541H14.9679259V24.2783321H34.9251604zM.997861725%2017.8189594v5.3456878H0V17.8189594H.997861725zM50%2017.8189594v5.3456878H49.0021383V17.8189594H50zM50%208.90947969V14.2551675H49.0021383V8.90947969H50zm-49.002138275.0V14.2551675H0V8.90947969H.997861725zM44.5612939-105968567e-19C47.4962048-105977449e-19%2049.8754203%202.37921544%2049.8754203%205.31412642L49.875332%205.34475804h-.8908597C48.9844723%202.89116781%2047.0008568.900875823%2044.5498061.890062469L44.5473984.886855222V-105968567e-19H44.5612939zm-39.233272050000004.0V.886855222C2.87456352.900875823.890947969%202.89116781.890947969%205.34475804v0H88283947e-12L-133226763e-23%205.31412642C-44408921e-23%202.37921544%202.37921544-105986331e-19%205.31412642-105968567e-19v0H5.32802185zM14.2551675.0V.997861725H8.90947969V0H14.2551675zM32.0741269.0V.997861725H26.7284391V0H32.0741269zM40.9836066.0V.997861725H35.6379187V0H40.9836066zM23.1646472.0V.997861725H17.8189594V0h5.3456878z'%20id='形状结合'%20fill='%23b2b2b2'/%3e%3c/g%3e%3c/svg%3e",F={class:"group-info"},j={class:"top-bar"},q={class:"title"},A={class:"members"},D=["src"],E={class:"name"},P="http://localhost:3000",U={__name:"GroupInfo",setup(J){const s=I(),d=G(),L=c(""),p=c(),m=c(),C=c([]),f=k(),g=b(()=>{var t,e;return((t=m.value)==null?void 0:t.id)===((e=f.userInfo)==null?void 0:e.user.id)});z(async()=>{const{name:t,memberCount:e}=await n.post("/groups/members-count",{groupId:s.params.targetId});L.value=t,p.value=e;const{members:r}=await n.post("/groups/members",{groupId:s.params.targetId});C.value=r;const{creator:l}=await n.post("groups/get-creator",{groupId:s.params.targetId});m.value=l});async function M(){try{const{message:t}=await n.post("/groups/dissolve",{groupId:s.params.targetId});window.alert("群聊已解散"),d.replace({name:"chat"})}catch{window.alert("解散群聊失败！")}}async function _(){try{const{message:t}=await n.post("/groups/leave",{groupId:s.params.targetId});window.alert("已退出群聊"),d.replace({name:"chat"})}catch{window.alert("退出失败！")}}function w(){d.back()}return(t,e)=>{const r=R("RouterLink");return o(),i("div",F,[a("div",j,[a("div",{class:"back-triangle",onClick:w}),a("div",q,v("聊天信息("+p.value+")"),1)]),e[2]||(e[2]=a("div",{class:"top-placeholder-div"},null,-1)),a("div",A,[(o(!0),i(x,null,B(C.value,l=>(o(),V(r,{class:"member",to:{name:"friendProfile",params:{targetId:l.id}}},{default:u(()=>[a("img",{src:P+l.avatar_url,class:"avatar"},null,8,D),a("div",E,v(l.username),1)]),_:2},1032,["to"]))),256)),Z(r,{to:{name:"addMember",params:{targetId:H(s).params.targetId}}},{default:u(()=>e[0]||(e[0]=[a("img",{src:N,class:"add-icon"},null,-1)])),_:1},8,["to"]),g.value?(o(),V(r,{key:0,to:{name:"removeMember",params:{targetId:H(s).params.targetId}}},{default:u(()=>e[1]||(e[1]=[a("img",{src:S,class:"remove-icon"},null,-1)])),_:1},8,["to"])):y("",!0)]),g.value?(o(),i("div",{key:0,class:"dissolve-group",onClick:M},"解散群聊")):(o(),i("div",{key:1,class:"leave-group",onClick:_},"退出群聊"))])}}},O=h(U,[["__scopeId","data-v-b67ece43"]]);export{O as default};
